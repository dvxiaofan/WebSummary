function SpliceOneNode(n,k,l,g,j){var m=Date.now();var c='<div class="panel-header bg-scale-0 panel-info border"><a class="panel-title" data-toggle="collapse" href="#accordion_'+m+"_"+ +k+'">'+l+"</a></div>";var b='<div id="accordion_'+m+"_"+ +k+'" class="panel-collapse collapse '+((g==true)?"in":"")+'"><div class="panel-content"><div class="widget-list list-left-element list-sm">';var d=[];var f;var o=document.createElement("ul");for(var e=0;e<j.length;e++){if(j[e].ParentNodeId==k){f="li_"+m+"_"+e;var h=document.createElement("li");h.setAttribute("onclick","li_onclick(this,'"+n.id+"','"+n.config_val_name+"')");h.setAttribute("id",f);h.setAttribute("data-name",j[e].NodeName);h.setAttribute("data-attribute",e);if(j[e].Select==true){h.setAttribute("style","background-color:"+n.scolor);h.innerHTML='<a href="#" style="color:#fff;"><span style="white-space: nowrap;font-size:11.5px;padding: 0px 0px;" class="title">'+j[e].NodeText+"</span></a>"}else{h.setAttribute("style","background-color:"+n.dcolor);h.innerHTML='<a href="#" style="color:#333;"><span style="white-space: nowrap;font-size:11.5px;padding: 0px 0px;" class="title">'+j[e].NodeText+"</span></a>"}d.push(h.outerHTML)}}o.innerHTML=d.join("");b+=o.outerHTML;b+="</div></div></div>";c+=b;var a=document.createElement("div");a.setAttribute("class","panel panel-accordion");a.innerHTML=c;return a.outerHTML}function TreeInit(g){try{var f=document.getElementById(g.id);if(f!=null){var a=document.createElement("div");a.setAttribute("class","panel-group");var c=[];for(var d=0;d<g.ParentData.length;d++){c.push(SpliceOneNode(g,g.ParentData[d].ParentNodeId,g.ParentData[d].NodeText,g.ParentData[d].expansion,g.LiData))}a.innerHTML=c.join("");f.innerHTML=a.outerHTML}g.LastSelectLiObj=null}catch(b){alert("错误："+b.message)}}function li_onclick(li_obj,div_id,config_name){try{var config=eval(config_name);var index=0;if(config.LastSelectLiObj==null){var arr=document.querySelectorAll("#"+div_id+" li");for(var i=0;i<arr.length;i++){index=arr[i].getAttribute("data-attribute");if(config.LiData[index].Select==true){arr[i].removeAttribute("style","background-color:"+config.dcolor+";");config.LiData[index].Select=false;var obj=arr[i].getElementsByTagName("a");if(obj!=null&&obj.length>0){obj[0].setAttribute("style","color:#333;")}}}}else{index=config.LastSelectLiObj.getAttribute("data-attribute");config.LastSelectLiObj.removeAttribute("style","background-color:"+config.dcolor+";");config.LiData[index].Select=false;var obj=config.LastSelectLiObj.getElementsByTagName("a");if(obj!=null&&obj.length>0){obj[0].setAttribute("style","color:#333;")}}config.LastSelectLiObj=li_obj;li_obj.setAttribute("style","background-color:"+config.scolor+";");index=li_obj.getAttribute("data-attribute");config.LiData[index].Select=true;var obj=li_obj.getElementsByTagName("a");if(obj!=null&&obj.length>0){obj[0].setAttribute("style","color:#fff;")}config.SelectionEvent(index,config.LiData[index])}catch(e){alert("错误："+e.message)}};