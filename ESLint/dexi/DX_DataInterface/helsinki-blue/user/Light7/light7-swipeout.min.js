/*
 * =====================================================
 * light7 V0.4.3 - http://light7.org/
 *
 * =====================================================
 */
+function(a){var d;var b=true;var c={swipeout:true,swipeoutNoFollow:false};a.initSwipeout=function(A){var q,o,p,D={},E,C,B,z,g,e,f,h,F,t,u,i,j,k,w,y,v,x,r,s;a(document).on(a.touchEvents.start,function(G){if(d){var H=a(G.target);if(!(d.is(H[0])||H.parents(".swipeout").is(d)||H.hasClass("modal-in")||H.hasClass("modal-overlay")||H.hasClass("actions-modal")||H.parents(".actions-modal.modal-in, .modal.modal-in").length>0)){a.swipeoutClose(d)}}});function n(G){if(!b){return}o=false;q=true;p=undefined;var H=a.getTouchPosition(G);D.x=H.x;D.y=H.y;E=(new Date()).getTime()}function m(I){if(!q){return}var M=a.getTouchPosition(I);var K=M.x;var L=M.y;if(typeof p==="undefined"){p=!!(p||Math.abs(L-D.y)>Math.abs(K-D.x))}if(p){q=false;return}if(!o){if(a(".list-block.sortable-opened").length>0){return}B=a(this);z=B.find(".swipeout-content");g=B.find(".swipeout-actions-right");e=B.find(".swipeout-actions-left");f=h=i=j=y=w=null;r=e.hasClass("swipeout-actions-no-fold")||c.swipeoutActionsNoFold;s=g.hasClass("swipeout-actions-no-fold")||c.swipeoutActionsNoFold;if(e.length>0){f=e.outerWidth();i=e.children("a");w=e.find(".swipeout-overswipe")}if(g.length>0){h=g.outerWidth();j=g.children("a");y=g.find(".swipeout-overswipe")}t=B.hasClass("swipeout-opened");if(t){u=B.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"}B.removeClass("transitioning");if(!c.swipeoutNoFollow){B.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened");B.removeClass("swipeout-opened")}}o=true;I.preventDefault();C=K-D.x;F=C;if(t){if(u==="right"){F=F-h}else{F=F+f}}if(F>0&&e.length===0||F<0&&g.length===0){if(!t){q=o=false;z.transform("");if(j&&j.length>0){j.transform("")}if(i&&i.length>0){i.transform("")}return}F=0}if(F<0){k="to-left"}else{if(F>0){k="to-right"}else{if(k){k=k}else{k="to-left"}}}var J,H,N;I.f7PreventPanelSwipe=true;if(c.swipeoutNoFollow){if(t){if(u==="right"&&C>0){a.swipeoutClose(B)}if(u==="left"&&C<0){a.swipeoutClose(B)}}else{if(C<0&&g.length>0){a.swipeoutOpen(B,"right")}if(C>0&&e.length>0){a.swipeoutOpen(B,"left")}}q=false;o=false;return}v=false;x=false;var G;if(g.length>0){N=F/h;if(F<-h){F=-h-Math.pow(-F-h,0.8);if(y.length>0){x=true}}for(J=0;J<j.length;J++){if(typeof j[J]._buttonOffset==="undefined"){j[J]._buttonOffset=j[J].offsetLeft}H=j[J]._buttonOffset;G=a(j[J]);if(y.length>0&&G.hasClass("swipeout-overswipe")){G.css({left:(x?-H:0)+"px"});if(x){G.addClass("swipeout-overswipe-active")}else{G.removeClass("swipeout-overswipe-active")}}G.transform("translate3d("+(F-H*(1+Math.max(N,-1)))+"px,0,0)")}}if(e.length>0){N=F/f;if(F>f){F=f+Math.pow(F-f,0.8);if(w.length>0){v=true}}for(J=0;J<i.length;J++){if(typeof i[J]._buttonOffset==="undefined"){i[J]._buttonOffset=f-i[J].offsetLeft-i[J].offsetWidth}H=i[J]._buttonOffset;G=a(i[J]);if(w.length>0&&G.hasClass("swipeout-overswipe")){G.css({left:(v?H:0)+"px"});if(v){G.addClass("swipeout-overswipe-active")}else{G.removeClass("swipeout-overswipe-active")}}if(i.length>1){G.css("z-index",i.length-J)}G.transform("translate3d("+(F+H*(1-Math.min(N,1)))+"px,0,0)")}}z.transform("translate3d("+F+"px,0,0)")}function l(L){if(!q||!o){q=false;o=false;return}q=false;o=false;var P=(new Date()).getTime()-E;var G,I,H,K,M,O;O=k==="to-left"?s:r;H=k==="to-left"?g:e;I=k==="to-left"?h:f;if(P<300&&(C<-10&&k==="to-left"||C>10&&k==="to-right")||P>=300&&Math.abs(F)>I/2){G="open"}else{G="close"}if(P<300){if(Math.abs(F)===0){G="close"}if(Math.abs(F)===I){G="open"}}if(G==="open"){d=B;B.trigger("open");B.addClass("swipeout-opened transitioning");var N=k==="to-left"?-I:I;z.transform("translate3d("+N+"px,0,0)");H.addClass("swipeout-actions-opened");K=k==="to-left"?j:i;if(K){for(M=0;M<K.length;M++){a(K[M]).transform("translate3d("+N+"px,0,0)")}}if(x){g.find(".swipeout-overswipe")[0].click()}if(v){e.find(".swipeout-overswipe")[0].click()}}else{B.trigger("close");d=undefined;B.addClass("transitioning").removeClass("swipeout-opened");z.transform("");H.removeClass("swipeout-actions-opened")}var J;if(i&&i.length>0&&i!==K){for(M=0;M<i.length;M++){J=i[M]._buttonOffset;if(typeof J==="undefined"){i[M]._buttonOffset=f-i[M].offsetLeft-i[M].offsetWidth}a(i[M]).transform("translate3d("+(J)+"px,0,0)")}}if(j&&j.length>0&&j!==K){for(M=0;M<j.length;M++){J=j[M]._buttonOffset;if(typeof J==="undefined"){j[M]._buttonOffset=j[M].offsetLeft}a(j[M]).transform("translate3d("+(-J)+"px,0,0)")}}z.transitionEnd(function(Q){if(t&&G==="open"||closed&&G==="close"){return}B.trigger(G==="open"?"opened":"closed");if(t&&G==="close"){if(g.length>0){j.transform("")}if(e.length>0){i.transform("")}}})}if(A){a(A).on(a.touchEvents.start,n);a(A).on(a.touchEvents.move,m);a(A).on(a.touchEvents.end,l)}else{a(document).on(a.touchEvents.start,".list-block li.swipeout",n);a(document).on(a.touchEvents.move,".list-block li.swipeout",m);a(document).on(a.touchEvents.end,".list-block li.swipeout",l)}};a.swipeoutOpen=function(j,h,f){j=a(j);if(arguments.length===2){if(typeof arguments[1]==="function"){f=h}}if(j.length===0){return}if(j.length>1){j=a(j[0])}if(!j.hasClass("swipeout")||j.hasClass("swipeout-opened")){return}if(!h){if(j.find(".swipeout-actions-right").length>0){h="right"}else{h="left"}}var m=j.find(".swipeout-actions-"+h);if(m.length===0){return}var l=m.hasClass("swipeout-actions-no-fold")||c.swipeoutActionsNoFold;j.trigger("open").addClass("swipeout-opened").removeClass("transitioning");m.addClass("swipeout-actions-opened");var e=m.children("a");var n=m.outerWidth();var o=h==="right"?-n:n;var k;if(e.length>1){for(k=0;k<e.length;k++){if(h==="right"){a(e[k]).transform("translate3d("+(-e[k].offsetLeft)+"px,0,0)")}else{a(e[k]).css("z-index",e.length-k).transform("translate3d("+(n-e[k].offsetWidth-e[k].offsetLeft)+"px,0,0)")}}var g=e[1].clientLeft}j.addClass("transitioning");for(k=0;k<e.length;k++){a(e[k]).transform("translate3d("+(o)+"px,0,0)")}j.find(".swipeout-content").transform("translate3d("+o+"px,0,0)").transitionEnd(function(){j.trigger("opened");if(f){f.call(j[0])}});d=j};a.swipeoutClose=function(j,f){j=a(j);if(j.length===0){return}if(!j.hasClass("swipeout-opened")){return}var h=j.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left";var n=j.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened");var l=n.hasClass("swipeout-actions-no-fold")||c.swipeoutActionsNoFold;var e=n.children("a");var o=n.outerWidth();b=false;j.trigger("close");j.removeClass("swipeout-opened").addClass("transitioning");var g;function m(){b=true;if(j.hasClass("swipeout-opened")){return}j.removeClass("transitioning");e.transform("");j.trigger("closed");if(f){f.call(j[0])}if(g){clearTimeout(g)}}j.find(".swipeout-content").transform("").transitionEnd(m);g=setTimeout(m,500);for(var k=0;k<e.length;k++){if(h==="right"){a(e[k]).transform("translate3d("+(-e[k].offsetLeft)+"px,0,0)")}else{a(e[k]).transform("translate3d("+(o-e[k].offsetWidth-e[k].offsetLeft)+"px,0,0)")}a(e[k]).css({left:0+"px"}).removeClass("swipeout-overswipe-active")}if(d&&d[0]===j[0]){d=undefined}};a.swipeoutDelete=function(g,e){g=a(g);if(g.length===0){return}if(g.length>1){g=a(g[0])}d=undefined;g.trigger("delete");g.css({height:g.outerHeight()+"px"});var f=g[0].clientLeft;g.css({height:0+"px"}).addClass("deleting transitioning").transitionEnd(function(){g.trigger("deleted");if(e){e.call(g[0])}if(g.parents(".virtual-list").length>0){var j=g.parents(".virtual-list")[0].f7VirtualList;var i=g[0].f7VirtualListIndex;if(j&&typeof i!=="undefined"){j.deleteItem(i)}}else{g.remove()}});var h="-100%";g.find(".swipeout-content").transform("translate3d("+h+",0,0)")};a(function(){a(document).on("click",".swipeout-close, .swipeout-delete",function(h){var f=a(this);var g=f.dataset();if(f.hasClass("swipeout-close")){a.swipeoutClose(f.parents(".swipeout-opened"))}if(f.hasClass("swipeout-delete")){if(g.confirm){var i=g.confirm;var j=g.confirmTitle;if(j){a.confirm(i,j,function(){a.swipeoutDelete(f.parents(".swipeout"))},function(){if(g.closeOnCancel){a.swipeoutClose(f.parents(".swipeout"))}})}else{a.confirm(i,function(){a.swipeoutDelete(f.parents(".swipeout"))},function(){if(g.closeOnCancel){a.swipeoutClose(f.parents(".swipeout"))}})}}else{a.swipeoutDelete(f.parents(".swipeout"))}}})})}($);