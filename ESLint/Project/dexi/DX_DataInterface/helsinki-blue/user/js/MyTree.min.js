(function(){var f;var d;var e;var b;var h;var c;var g;var j=function(l){g=new Object();g.id=l.id;g.ParentData=l.ParentData,g.LiData=l.LiData,g.SelectionEvent=l.SelectionEvent,this.init()};j.prototype.init=function(){try{}catch(l){}};function a(){try{f=document.getElementById(g.id);if(f==null){d=null;e=null}else{d=f.querySelectorAll(".my_dropdown");e=Array.prototype.slice.call(d,0);e.forEach(function(o){var n=o.querySelector('a[data-toggle="my_dropdown"]'),p=o.querySelector(".my_dropdown-menu"),m=n.querySelector("i.icon-arrow");n.onclick=function(q){if(!p.hasClass("show")){p.classList.add("show");p.classList.remove("hide");m.classList.add("open");m.classList.remove("close");q.preventDefault()}else{p.classList.remove("show");p.classList.add("hide");m.classList.remove("open");m.classList.add("close");q.preventDefault()}}});h=f.querySelectorAll(".select_li");c=Array.prototype.slice.call(h,0);c.forEach(function(m){var n=m.querySelector('a[data-toggle="select_li"]'),o=m.querySelector(".select_li");n.onclick=function(q){n.classList.remove("default_a_class");n.classList.add("select_a_class");if(b!=null){b.classList.add("default_a_class");b.classList.remove("select_a_class")}b=n;var s=n.text;var r=n.getAttribute("data-index");var p=n.getAttribute("data-name");if(g.SelectionEvent!=null){g.SelectionEvent(r,p,s)}}})}}catch(l){}}j.prototype.render=k;function i(r,s,q){var t=Date.now();var l=' <li class="my_dropdown"><a href="#" data-toggle="my_dropdown">'+s+'<i class="icon-arrow"></i></a>	    <ul class="my_dropdown-menu show">';var m=[];var o;for(var n=0;n<q.length;n++){if(q[n].ParentNodeId==r){o="li_"+t+"_"+n;var p=document.createElement("li");p.setAttribute("id",o);p.setAttribute("data-attribute",n);p.setAttribute("class","select_li");p.innerHTML='<a href="#" class="default_a_class" data-toggle="select_li" data-index='+n+' data-name="'+q[n].NodeName+'">'+q[n].NodeText+"</a>";m.push(p.outerHTML)}}l+=m.join("");l+="</ul></li>";return l}function k(){try{var o=document.getElementById(g.id);if(o!=null){var p=document.createElement("ul");var m=[];for(var n=0;n<g.ParentData.length;n++){m.push(i(g.ParentData[n].ParentNodeId,g.ParentData[n].NodeText,g.LiData))}p.innerHTML=m.join("");o.innerHTML=p.outerHTML;a()}}catch(l){alert("错误："+l.message)}}window.tree_list=j;Element.prototype.hasClass=function(l){return this.className&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(this.className)}}());